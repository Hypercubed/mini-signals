!function(t,e){if("function"==typeof define&&define.amd)define(["exports","module"],e);else if("undefined"!=typeof exports&&"undefined"!=typeof module)e(exports,module);else{var n={exports:{}};e(n.exports,n),t.miniSignals=n.exports}}(this,function(t,e){"use strict";var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function i(t,e){this.fn=t,this.context=e,this.next=this.prev=null}var r=function(){function t(){!function t(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,t),this._head=this._tail=void 0}return n(t,[{key:"listeners",value:function t(e){var n=this._head;if(e)return!!n;if(!n)return[];for(var i=[];n;)i.push(n.fn),n=n.next;return i}},{key:"dispatch",value:function t(){var e=this._head;if(!e)return!1;for(;e;)e.fn.apply(e.context,arguments),e=e.next;return!0}},{key:"add",value:function t(e,n){var r=new i(e,n||this);return this._head?(this._tail.next=r,r.prev=this._tail,this._tail=r):(this._head=r,this._tail=r),this}},{key:"remove",value:function t(e,n){var i,r=this._head;if(!r)return this;if(!e)return this.removeAll();for(;r;)i=r.next,r.fn!==e||n&&r.context!==n||(r===this._head?(this._head=r.next,this._head?this._head.prev=null:this._tail=null):r===this._tail?(this._tail=r.prev,this._tail.next=null):(r.prev.next=r.next,r.next.prev=r.prev),r.next=r.prev=null),r=i;return this}},{key:"removeAll",value:function t(){var e,n=this._head;if(!n)return this;for(;n;)e=n.next,n.next=n.prev=null,n=e;return this._head=this._tail=null,this}}]),t}();e.exports=r});